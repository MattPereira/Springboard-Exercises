<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movies App</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<body>
    <h1 class="text-center">Movies App!</h1>

    <div class="container">
        <div class="row mb-3">
            <form action="">
                <label for="title">Title:</label>
                <input type="text" id="title">
        
                <label for="rating">Rating:</label>
                <input type="number" id="rating">
                <button type="submit" class="btn btn-success">SUBMIT</button>
            </form>
        </div>
        <div class="row mb-3">

        <button id="alpha-sort" class="btn btn-warning mb-3">SORT TITLES ALPHABETICALLY</button>
        <button id="rating-sort" class="btn btn-secondary">SORT BY RATING</button>


        </div>
        <ul id="movie-list" class='text-center'>
            <li><em>Batman Begins</em> : <b>7</b></li>
            <li><em>The Matrix</em> : <b>10</b></li>
            <li><em>Shutter Island</em> : <b>6</b></li>
            <li><em>Pulp Fiction</em> : <b>8</b></li>
            <li><em>Fight Club</em> : <b>9</b></li>
        </ul>
    </div>



    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

    <script>
        $("form button").on("click", function (event) {
        event.preventDefault();

        const title = $("form input").eq(0).val();
        const rating = $("form input").eq(1).val();

        if(title.length < 2) {
            return alert('title must be at least 2 characters long!')
        }

        //ensure rating of a movie can only be between 0 and 10
        if(rating < 0 || rating > 10) {
            return alert('rating must be between 0 and 10!')
        } 

        const li = $(`<li><em>${title}</em> : <b>${rating}</b> </li>`);

        $("ul").append(li);

        const deleteBtn = $("<button class='btn btn-danger'>X</button>").on(
            "click",
            function () {
            this.parentElement.remove();
            }
        );

        li.append(deleteBtn);
        $("form input").eq(0).val("");
        $("form input").eq(1).val("");
        });
        $('form input').eq(1).attr('min', '0')
        $('form input').eq(1).attr('max', '10')

        //SORTING BY TITLE OR RATING WITH BUTTON CLICK

        $('#alpha-sort').on('click', function() {

        })
    </script>
</body>
</html>